<!DOCTYPE html>
<html>
<head>
  <title>Rock-Paper-Scissors</title>
</head>

<body>

  <button id="rock">Rock</button>
  <button id="paper">Paper</button>
  <button id="scissors">Scissors</button>
  <div id="result"></div>
  <div id="gameStatus"></div>

<script>
  const buttons = document.querySelectorAll('button');
  const result = document.querySelector("#result");
  const gameStatus = document.querySelector("#gameStatus");
  let playerWins = 0;
  let computerWins = 0;

// Plays round when player clicks on a button
  buttons.forEach((button) => {
    button.addEventListener('click', () => {
      const computerSelection = computerPlay();
      result.textContent = playRound(button.id, computerSelection);
      gameStatus.textContent = game();
    });
  });

// Decides randomly the computer's choice
  function computerPlay() {
    const num = Math.floor((Math.random() * 10) + 1);
    const choice = num <= 3.3 ? "rock" : num > 6.7 ? "paper" : "scissors";
    return choice;
  }

// Compares both players choices and returns result of the round
  function playRound(playerSelection, computerSelection) {
    switch (true) {
        case playerSelection == "rock" && computerSelection == "scissors":
        case playerSelection == "paper" && computerSelection == "rock":
        case playerSelection == "scissors" && computerSelection == "paper":
          playerWins++;
          return "Player wins! " + capitalize(playerSelection) + " beats " + capitalize(computerSelection) + "!";
          break;

        case playerSelection == "rock" && computerSelection == "paper":
        case playerSelection == "paper" && computerSelection == "scissors":
        case playerSelection == "scissors" && computerSelection == "rock":
          computerWins++;
          return "Computer wins! " + capitalize(computerSelection) + " beats " + capitalize(playerSelection) + "!";
          break;
        default:
          return "It's a tie!";
          break;
    }
  }

  function capitalize(string) {
    return string.charAt(0).toUpperCase() + string.slice(1);
  }

// Keeps track of and returns score of the game
  function game(){
    while ((playerWins < 5) && (computerWins < 5)) {
      return "Player: " + playerWins + " Computer: " + computerWins;
    }
    if (playerWins == 5) {
      playerWins = 0;
      computerWins = 0;
      return "Game over! Player wins!";
    }
    else if (computerWins == 5) {
      playerWins = 0;
      computerWins = 0;
      return "Game over! Computer wins!";
    }
  }


</script>
</body>
</html>
